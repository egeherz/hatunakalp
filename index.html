<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Aşk V5000 - Neon Kalp Patlaması Final</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap');

  /* Rengarenk giriş ekranı */
  body, html {
    margin:0; padding:0; overflow:hidden; height:100%; background:#000;
    font-family: 'Poppins', sans-serif;
    color: white;
  }
  #login {
    position: absolute;
    top:0; left:0; width:100%; height:100%;
    background: linear-gradient(135deg, #ff6a00, #ee0979, #ff6a00);
    background-size: 400% 400%;
    animation: gradientBG 12s ease infinite;
    display:flex; flex-direction: column; justify-content:center; align-items:center;
    gap: 30px;
    z-index: 20;
    box-shadow: inset 0 0 50px #fff6, inset 0 0 100px #ff2e63aa;
    border-radius: 16px;
    user-select: none;
  }
  @keyframes gradientBG {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }
  #login h2 {
    font-size: 64px;
    font-weight: 900;
    color: #fff;
    text-shadow:
      0 0 15px #fff,
      0 0 40px #ff2e63,
      0 0 70px #ff2e63,
      0 0 90px #ee0979;
    letter-spacing: 4px;
  }
  #login input {
    width: 300px; padding: 16px 24px; font-size:20px;
    border-radius: 20px; border:none;
    background: rgba(255,255,255,0.15);
    color:#fff;
    box-shadow: 0 0 15px #ff2e63;
    text-align:center;
    transition: background 0.3s;
  }
  #login input::placeholder {
    color: #ff9eb2;
  }
  #login input:focus {
    background: rgba(255,255,255,0.35);
    outline:none;
    box-shadow: 0 0 30px #ff4e85;
  }
  #login button {
    padding: 16px 40px; font-size: 22px; border:none;
    border-radius: 30px; background:#ff2e63;
    color:#fff;
    cursor:pointer;
    box-shadow:
      0 0 15px #ff2e63,
      0 0 30px #ff2e63;
    font-weight: 900;
    transition: background 0.3s, box-shadow 0.4s;
  }
  #login button:hover {
    background:#ff4e85;
    box-shadow:
      0 0 25px #ff4e85,
      0 0 50px #ff4e85;
  }
  #login .subtitle {
    font-size: 28px;
    font-weight: 600;
    color: #fff8;
    text-shadow: 0 0 10px #fff2;
    user-select:none;
  }
  #footer {
    position: absolute;
    bottom: 20px; right: 20px;
    color: white; font-size: 16px;
    text-shadow: 2px 2px 6px #000;
    z-index: 20;
    user-select: none;
  }
  canvas {
    display:block;
    position: fixed;
    top:0; left:0; width: 100%; height: 100%;
    z-index: 1;
  }
  #countdownMessage {
    position: fixed;
    top: 45%;
    width: 100%;
    text-align: center;
    font-size: 56px;
    font-weight: 900;
    color: #ff2e63;
    text-shadow:
      0 0 8px #ff2e63,
      0 0 20px #ff2e63,
      0 0 30px #ff2e63,
      0 0 40px #ff2e63,
      0 0 60px #ff2e63;
    letter-spacing: 5px;
    user-select: none;
    z-index: 25;
    font-family: 'Poppins', sans-serif;
  }
</style>
</head>
<body>

<div id="login">
  <h2>PRENSES</h2>
  <div class="subtitle">Kalplere Boğulmaya Hazır mısın?</div>
  <input type="text" id="username" placeholder="Kullanıcı Adı" autocomplete="off" />
  <input type="password" id="password" placeholder="Şifre" autocomplete="off" />
  <button id="loginBtn">Giriş Yap</button>
</div>

<div id="footer" style="display:none;">Oluşturan: Ege Deniz</div>
<div id="countdownMessage" style="display:none;"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
<script>
(() => {
  const loginDiv = document.getElementById('login');
  const footer = document.getElementById('footer');
  const loginBtn = document.getElementById('loginBtn');
  const countdownMessage = document.getElementById('countdownMessage');

  let scene, camera, renderer, hearts = [], clock;
  let animationRunning = false;

  // İnce neon kalp geometrisi (wireframe ile)
  function createThinHeartGeometry() {
    const shape = new THREE.Shape();
    const x = 0, y = 0;
    shape.moveTo(x, y + 0.7);
    shape.bezierCurveTo(x, y + 0.7, x - 0.35, y + 0.15, x - 0.35, y - 0.15);
    shape.bezierCurveTo(x - 0.35, y - 0.6, x, y - 0.9, x, y - 1.2);
    shape.bezierCurveTo(x, y - 0.9, x + 0.35, y - 0.6, x + 0.35, y - 0.15);
    shape.bezierCurveTo(x + 0.35, y + 0.15, x, y + 0.7, x, y + 0.7);
    const extrudeSettings = {
      steps: 1,
      depth: 0.05,
      bevelEnabled: true,
      bevelThickness: 0.05,
      bevelSize: 0.05,
      bevelSegments: 1
    };
    return new THREE.ExtrudeGeometry(shape, extrudeSettings);
  }

  // Neon wireframe materyali, parlak kırmızı-pembe tonlarında
  function createNeonWireframeMaterial() {
    return new THREE.MeshBasicMaterial({
      color: 0xff2e63,
      wireframe: true,
      transparent: true,
      opacity: 0.9,
      blending: THREE.AdditiveBlending,
      depthWrite: false,
    });
  }

  // Glow efekti için sprite (parlak nokta)
  function createGlowSprite() {
    const spriteMaterial = new THREE.SpriteMaterial({
      map: new THREE.TextureLoader().load('https://i.imgur.com/9kY1D1G.png'),
      color: 0xff2e63,
      transparent: true,
      opacity: 0.7,
      blending: THREE.AdditiveBlending,
      depthWrite: false
    });
    return new THREE.Sprite(spriteMaterial);
  }

  function initThree() {
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 6;
    renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Arka plan görseli
    new THREE.TextureLoader().load('https://i.imgur.com/saBY0cK.jpeg', (texture) => {
      scene.background = texture;
    });

    // Işıklar neon atmosfer için
    scene.add(new THREE.AmbientLight(0xffffff, 0.6));
    const dirLight1 = new THREE.DirectionalLight(0xff2e63, 1.2);
    dirLight1.position.set(2, 2, 2);
    scene.add(dirLight1);
    const dirLight2 = new THREE.DirectionalLight(0xff6a95, 0.7);
    dirLight2.position.set(-1, -1, 1);
    scene.add(dirLight2);

    clock = new THREE.Clock();
  }

  function createHeart() {
    const geometry = createThinHeartGeometry();
    const material = createNeonWireframeMaterial();
    const heartMesh = new THREE.Mesh(geometry, material);

    const glow = createGlowSprite();
    glow.scale.set(1.6, 1.6, 1);
    heartMesh.add(glow);

    heartMesh.position.x = (Math.random() - 0.5) * 9;
    heartMesh.position.y = 6 + Math.random() * 2;
    heartMesh.position.z = (Math.random() - 0.5) * 6;

    const scale = 0.35 + Math.random() * 0.6;
    heartMesh.scale.set(scale, scale, scale);

    heartMesh.userData = {
      rotationSpeedX: (Math.random() - 0.5) * 0.04,
      rotationSpeedY: (Math.random() - 0.5) * 0.04,
      fallSpeed: 0.012 + Math.random() * 0.03
    };

    scene.add(heartMesh);
    hearts.push(heartMesh);
  }

  function animate() {
    if(!animationRunning) return;
    requestAnimationFrame(animate);
    hearts.forEach((heart, i) => {
      heart.position.y -= heart.userData.fallSpeed || 0.015;
      heart.rotation.x += heart.userData.rotationSpeedX || 0.015;
      heart.rotation.y += heart.userData.rotationSpeedY || 0.015;

      if(heart.position.y < -6) {
        heart.position.y = 6 + Math.random() * 2;
        heart.position.x = (Math.random() - 0.5) * 9;
        heart.position.z = (Math.random() - 0.5) * 6;
      }
    });
    renderer.render(scene, camera);
  }

  function onWindowResize() {
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  }

  // Kalp patlatma efekti
  function burstHearts(x, y) {
    const mouseVector = new THREE.Vector3(
      (x / window.innerWidth) * 2 - 1,
      - (y / window.innerHeight) * 2 + 1,
      0.5
    );
    mouseVector.unproject(camera);
    const dir = mouseVector.sub(camera.position).normalize();
    const distance = -camera.position.z / dir.z;
    const pos = camera.position.clone().add(dir.multiplyScalar(distance));

    for(let i=0; i<18; i++) {
      const geometry = createThinHeartGeometry();
      const material = createNeonWireframeMaterial();
      const heartMesh = new THREE.Mesh(geometry, material);

      const glow = createGlowSprite();
      glow.scale.set(1.3, 1.3, 1);
      heartMesh.add(glow);

      heartMesh.position.set(
        pos.x + (Math.random() - 0.5) * 1.2,
        pos.y + (Math.random() - 0.5) * 1.2,
        pos.z + (Math.random() - 0.5) * 1.2
      );

      const scale = 0.3 + Math.random() * 0.45;
      heartMesh.scale.set(scale, scale, scale);

      heartMesh.userData = {
        rotationSpeedX: (Math.random() - 0.5) * 0.12,
        rotationSpeedY: (Math.random() - 0.5) * 0.12,
        fallSpeed: 0.055 + Math.random() * 0.06,
        lifeTime: 1800 + Math.random() * 1000,
        birthTime: performance.now()
      };

      scene.add(heartMesh);
      hearts.push(heartMesh);
    }
  }

  // Geri sayım ve animasyon başlatma
  function showCountdownAndStart() {
    let countdown = 3;
    countdownMessage.style.display = 'block';
    countdownMessage.textContent = "HAZIR OL BOĞULMAYA KALPLERE 3";

    const interval = setInterval(() => {
      countdown--;
      if(countdown > 0) {
        countdownMessage.textContent = `HAZIR OL BOĞULMAYA KALPLERE ${countdown}`;
      } else {
        clearInterval(interval);
        countdownMessage.style.display = 'none';
        animationRunning = true;
        startHeartRain();
      }
    }, 1000);
  }

  function startHeartRain() {
    for(let i=0; i<60; i++) createHeart();
    animate();
  }

  loginBtn.onclick = () => {
    const user = document.getElementById('username').value.trim();
    const pass = document.getElementById('password').value.trim();
    if(user === 'x' && pass === '11097') {
      loginDiv.style.display = 'none';
      footer.style.display = 'block';

      initThree();
      showCountdownAndStart();

      window.addEventListener('resize', onWindowResize, false);

      window.addEventListener('click', (e) => {
        if(animationRunning) burstHearts(e.clientX, e.clientY);
      });
      window.addEventListener('touchstart', (e) => {
        if(animationRunning && e.touches.length > 0) {
          burstHearts(e.touches[0].clientX, e.touches[0].clientY);
        }
      });

    } else {
      alert('Hatalı kullanıcı adı veya şifre!');
    }
  };

  window.addEventListener('resize', () => {
    if(animationRunning) onWindowResize();
  });

})();
</script>

</body>
</html>
