<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A≈ük V10000 - 3D Neon Kalp Yaƒümuru</title>
<style>
  /* Genel ayarlar */
  html, body {
    margin: 0; padding: 0; overflow: hidden;
    width: 100vw; height: 100vh;
    background: #000;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: white;
  }

  /* Giri≈ü ekranƒ± */
  #login {
    position: absolute;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: linear-gradient(135deg, #ff0055, #440044);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
    z-index: 10;
  }

  #login h2 {
    font-size: 3rem;
    letter-spacing: 0.15em;
    color: #ff77aa;
    text-shadow: 0 0 12px #ff77aa;
    margin: 0;
  }

  #login input {
    width: 80px;
    padding: 15px 20px;
    font-size: 2rem;
    border-radius: 12px;
    border: none;
    background: #222;
    color: #ff77aa;
    text-align: center;
    outline: none;
    box-shadow: 0 0 8px #ff77aa;
  }
  #login input::placeholder {
    color: #ff77aaaa;
  }
  #login input:focus {
    box-shadow: 0 0 15px #ff1177;
  }

  #login input[type="password"] {
    width: 220px;
    letter-spacing: 0.2em;
  }

  #login button {
    padding: 15px 40px;
    font-size: 2rem;
    border: none;
    border-radius: 16px;
    background: #ff1177;
    color: white;
    cursor: pointer;
    box-shadow: 0 0 15px #ff1177;
    transition: background 0.3s ease;
  }
  #login button:hover {
    background: #ff4499;
    box-shadow: 0 0 25px #ff4499;
  }

  /* Footer (olu≈üturan) */
  #footer {
    position: fixed;
    bottom: 12px;
    right: 12px;
    font-size: 16px;
    color: #ff77aa;
    text-shadow: 0 0 6px #ff77aa;
    user-select: none;
    z-index: 15;
    display: none;
  }

  /* Ses ve Tema Kontrolleri */
  #audioControl, #themeToggle {
    position: fixed;
    top: 15px;
    font-size: 1.6rem;
    padding: 10px 14px;
    border-radius: 50%;
    cursor: pointer;
    user-select: none;
    background: #220022bb;
    color: #ff77aa;
    box-shadow: 0 0 10px #ff77aaaa;
    transition: background 0.3s ease;
    z-index: 15;
  }
  #audioControl:hover, #themeToggle:hover {
    background: #ff1177cc;
  }
  #audioControl {
    left: 15px;
  }
  #themeToggle {
    right: 15px;
  }
  #audioControl.hidden, #themeToggle.hidden {
    display: none;
  }

  /* Canvas tam ekran */
  canvas {
    position: fixed !important;
    top: 0; left: 0;
    width: 100vw !important;
    height: 100vh !important;
    display: block;
    z-index: 0;
  }
</style>
</head>
<body>

<!-- Giri≈ü Paneli -->
<div id="login">
  <h2>PRENSES</h2>
  <input type="text" id="username" placeholder="x" maxlength="1" autocomplete="off" autofocus />
  <input type="password" id="password" placeholder="≈ûifre" autocomplete="off" />
  <button id="loginBtn">Giri≈ü Yap</button>
</div>

<!-- Footer -->
<div id="footer">Olu≈üturan: Ege Deniz</div>

<!-- Ses & Tema Butonlarƒ± -->
<div id="audioControl" class="hidden" title="Ses A√ß / Kapa">üîà</div>
<div id="themeToggle" class="hidden" title="Tema Deƒüi≈ütir">üåô</div>

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>

<script>
(() => {
  // DOM Elemanlarƒ±
  const loginDiv = document.getElementById('login');
  const footer = document.getElementById('footer');
  const loginBtn = document.getElementById('loginBtn');
  const audioControl = document.getElementById('audioControl');
  const themeToggle = document.getElementById('themeToggle');

  // Three.js global deƒüi≈ükenler
  let scene, camera, renderer;
  let hearts = [];
  let clock;
  let audio = null;
  let isAudioPlaying = false;
  let darkMode = true;

  // Tema renkleri
  const darkBgTextureUrl = 'https://i.imgur.com/saBY0cK.jpeg';

  // Kalp geometrisi: ince neon wireframe extrude
  function createHeartGeometry() {
    const x = 0, y = 0;
    const shape = new THREE.Shape();
    shape.moveTo(x, y + 0.5);
    shape.bezierCurveTo(x, y + 0.5, x - 0.5, y + 0.2, x - 0.5, y);
    shape.bezierCurveTo(x - 0.5, y - 0.35, x, y - 0.7, x, y - 1);
    shape.bezierCurveTo(x, y - 0.7, x + 0.5, y - 0.35, x + 0.5, y);
    shape.bezierCurveTo(x + 0.5, y + 0.2, x, y + 0.5, x, y + 0.5);

    const extrudeSettings = {
      steps: 2,
      depth: 0.1,
      bevelEnabled: true,
      bevelThickness: 0.05,
      bevelSize: 0.05,
      bevelSegments: 3,
    };

    return new THREE.ExtrudeGeometry(shape, extrudeSettings);
  }

  // Neon wireframe malzeme
  function createHeartMaterial() {
    return new THREE.MeshBasicMaterial({
      color: 0xff3399,
      wireframe: true,
      opacity: 0.8,
      transparent: true,
      blending: THREE.AdditiveBlending,
    });
  }

  // I≈üƒ±k ve sahne kurulum
  function initThree() {
    scene = new THREE.Scene();

    camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 6;

    renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Arka plan resmi
    const loader = new THREE.TextureLoader();
    loader.load(darkBgTextureUrl, (texture) => {
      scene.background = texture;
    });

    // I≈üƒ±klar
    const ambientLight = new THREE.AmbientLight(0xff66aa, 0.3);
    scene.add(ambientLight);

    const pointLight = new THREE.PointLight(0xff66aa, 1, 50);
    pointLight.position.set(0, 10, 10);
    scene.add(pointLight);

    clock = new THREE.Clock();
  }

  // Kalp olu≈ütur
  function createHeart() {
    const geometry = createHeartGeometry();
    const material = createHeartMaterial();

    const heartMesh = new THREE.Mesh(geometry, material);

    heartMesh.position.x = (Math.random() - 0.5) * 10;
    heartMesh.position.y = 6 + Math.random() * 4;
    heartMesh.position.z = (Math.random() - 0.5) * 6;

    const scale = 0.3 + Math.random() * 0.7;
    heartMesh.scale.set(scale, scale, scale);

    heartMesh.userData = {
      rotationSpeedX: (Math.random() - 0.5) * 0.015,
      rotationSpeedY: (Math.random() - 0.5) * 0.015,
      fallSpeed: 0.01 + Math.random() * 0.02,
    };

    scene.add(heartMesh);
    hearts.push(heartMesh);
  }

  // Animasyon fonksiyonu
  function animate() {
    requestAnimationFrame(animate);
    const delta = clock.getDelta();

    hearts.forEach((heart, i) => {
      heart.position.y -= heart.userData.fallSpeed;
      heart.rotation.x += heart.userData.rotationSpeedX;
      heart.rotation.y += heart.userData.rotationSpeedY;

      if(heart.position.y < -7) {
        heart.position.y = 6 + Math.random() * 3;
        heart.position.x = (Math.random() - 0.5) * 10;
        heart.position.z = (Math.random() - 0.5) * 6;
      }
    });

    renderer.render(scene, camera);
  }

  // Kalp yaƒümuru ba≈ülat
  function startHeartRain() {
    for(let i=0; i<70; i++) createHeart();
    animate();
  }

  // Pencere yeniden boyutlandƒ±rma
  function onWindowResize() {
    if(camera && renderer) {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }
  }
  window.addEventListener('resize', onWindowResize);

  // Geri sayƒ±m ve ba≈ülangƒ±√ß yazƒ±sƒ±
  function showCountdownAndStart() {
    const countdownText = document.createElement('div');
    countdownText.style.position = 'fixed';
    countdownText.style.top = '50%';
    countdownText.style.left = '50%';
    countdownText.style.transform = 'translate(-50%, -50%)';
    countdownText.style.fontSize = '5rem';
    countdownText.style.color = '#ff3399';
    countdownText.style.textShadow = '0 0 10px #ff3399';
    countdownText.style.zIndex = 20;
    countdownText.style.userSelect = 'none';

    let count = 3;
    countdownText.textContent = `HAZIR OL BOƒûULMAYA KALPLERE: ${count}`;
    document.body.appendChild(countdownText);

    const interval = setInterval(() => {
      count--;
      if(count > 0) {
        countdownText.textContent = `HAZIR OL BOƒûULMAYA KALPLERE: ${count}`;
      } else {
        countdownText.remove();
        startHeartRain();
        audioControl.classList.remove('hidden');
        themeToggle.classList.remove('hidden');
      }
    }, 1000);
  }

  // Ses kontrol√º
  function setupAudio() {
    audio = new Audio('Lady Gaga, Bruno Mars - Die With A Smile (Official Music Video).mp3');
    audio.loop = true;
    audio.volume = 0.35;
    audio.play().then(() => {
      isAudioPlaying = true;
      audioControl.textContent = 'üîä';
    }).catch(() => {
      isAudioPlaying = false;
      audioControl.textContent = 'üîà';
    });
  }

  audioControl.onclick = () => {
    if(!audio) return;
    if(isAudioPlaying) {
      audio.pause();
      isAudioPlaying = false;
      audioControl.textContent = 'üîà';
    } else {
      audio.play();
      isAudioPlaying = true;
      audioControl.textContent = 'üîä';
    }
  };

  // Tema deƒüi≈üimi (gece/g√ºnd√ºz)
  function toggleTheme() {
    darkMode = !darkMode;
    if(darkMode) {
      document.body.style.background = '#000';
      scene.background = new THREE.TextureLoader().load(darkBgTextureUrl);
      audioControl.style.color = '#ff77aa';
      themeToggle.textContent = 'üåô';
      footer.style.color = '#ff77aa';
    } else {
      document.body.style.background = '#f0f0f0';
      scene.background = new THREE.Color(0xf0f0f0);
      audioControl.style.color = '#b3004b';
      themeToggle.textContent = '‚òÄÔ∏è';
      footer.style.color = '#b3004b';
    }
  }

  themeToggle.onclick = toggleTheme;

  // Kalp patlama efektleri (tƒ±klama/dokunma)
  function burstHearts(x, y) {
    if(!scene) return;

    const mouseVector = new THREE.Vector3(
      (x / window.innerWidth) * 2 - 1,
      - (y / window.innerHeight) * 2 + 1,
      0.5
    );

    mouseVector.unproject(camera);
    const dir = mouseVector.sub(camera.position).normalize();
    const distance = -camera.position.z / dir.z;
    const pos = camera.position.clone().add(dir.multiplyScalar(distance));

    for(let i=0; i<15; i++) {
      const geometry = createHeartGeometry();
      const material = createHeartMaterial();

      const heartMesh = new THREE.Mesh(geometry, material);
      heartMesh.position.set(
        pos.x + (Math.random() - 0.5) * 1,
        pos.y + (Math.random() - 0.5) * 1,
        pos.z + (Math.random() - 0.5) * 1
      );

      const scale = 0.3 + Math.random() * 0.4;
      heartMesh.scale.set(scale, scale, scale);

      heartMesh.userData = {
        rotationSpeedX: (Math.random() - 0.5) * 0.1,
        rotationSpeedY: (Math.random() - 0.5) * 0.1,
        fallSpeed: 0.05 + Math.random() * 0.05,
        lifeTime: 2000 + Math.random() * 1000,
        birthTime: performance.now()
      };

      scene.add(heartMesh);
      hearts.push(heartMesh);
    }
  }

  // Giri≈ü butonuna basƒ±nca kontrol ve ba≈ülatma
  loginBtn.onclick = () => {
    const user = document.getElementById('username').value.trim();
    const pass = document.getElementById('password').value.trim();

    if(user === 'x' && pass === '11097') {
      loginDiv.style.display = 'none';
      footer.style.display = 'block';

      initThree();
      showCountdownAndStart();
      setupAudio();

      audioControl.classList.remove('hidden');
      themeToggle.classList.remove('hidden');

      window.addEventListener('resize', onWindowResize);
      window.addEventListener('click', e => burstHearts(e.clientX, e.clientY));
      window.addEventListener('touchstart', e => {
        if(e.touches.length > 0) burstHearts(e.touches[0].clientX, e.touches[0].clientY);
      });
    } else {
      alert('Hatalƒ± kullanƒ±cƒ± adƒ± veya ≈üifre!');
    }
  };

  // Klavye kƒ±sayollarƒ±
  window.addEventListener('keydown', (e) => {
    if(loginDiv.style.display !== 'none') {
      if(e.key === 'Enter') loginBtn.click();
    } else {
      if(e.key.toLowerCase() === 'm') audioControl.click();
      if(e.key.toLowerCase() === 't') themeToggle.click();
    }
  });
})();
</script>

</body>
</html>
